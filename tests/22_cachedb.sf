#! ruby
include sidefext::iterable
import sidefext::iterable::ImmutableHash

# include providers::cachedb
# include DBTransform
# import DBTransform::new
# import DBTransform::apply

var d = ImmutableHash()

# const t1 = new( :insert, :t1, 1 )
# D = apply( D, t1 )
var r = ImmutableHash() # ImmutableHash(:( t1 => 1 ))
# say rt1._data.dump
# say D._data.dump
# assert_eq(D._data, rt1._data)
assert_eq(d, r)
